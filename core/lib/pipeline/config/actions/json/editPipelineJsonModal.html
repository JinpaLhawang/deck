<div modal-page>
  <modal-close></modal-close>
  <div class="modal-header">
    <h3>Edit Pipeline JSON</h3>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <p>
          The JSON below represents the pipeline configuration in its persisted state.
          You can change it here or use this to quickly copy a pipeline.
        </p>
      </div>
    </div>
    <form role="form" name="form" class="form-horizontal">
      <div class="form-group">
        <textarea class="code form-control" rows=20 ng-model="command.pipelineJSON"></textarea>
      </div>
    </form>
    <div class="row">
      <div class="col-md-12">
        <p>
          <strong>Note:</strong> Clicking "Update Pipeline" below will not save your changes to the server - it only
          updates the configuration within the browser, so you'll want to verify your changes and click "Save Changes"
          when you're ready.
        </p>
      </div>
    </div>
    <div class="form-group row slide-in animated" ng-if="command.invalid">
      <div class="col-sm-9 col-sm-offset-3 error-message">
        Error: {{command.errorMessage}}
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-default" ng-click="editPipelineJsonModalCtrl.cancel()">Cancel</button>
    <button class="btn btn-primary"
            ng-click="editPipelineJsonModalCtrl.updatePipeline()">
      <span class="glyphicon glyphicon-ok-circle"></span> Update Pipeline
    </button>
  </div>
</div>
